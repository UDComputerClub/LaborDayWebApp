<!DOCTYPE html>
<html ng-app="clientScript" ng-controller="clientController">
    <head>
        <meta charset="utf-8" />
        <title>Evolve Yo'self</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="icon" type="image" href="favicon.ico">
        <meta name="keywords" content="Pokemon, evolve, evolution, animation,
            video">
        <meta name="description" content='Evolve yourself and your friends --
            Pokémon style! Turn "before" and "after" pictures into a wonderful
            evolution animation!'>
        <link rel="apple-touch-icon" sizes="192x192" href="/icon-192x192.png" />
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script src="ng-file-upload.js"></script>
        <script src="ng-file-upload-shim.js"></script>
        <script src="upload.js"></script>
        <script src="fabric.min.js"></script>
        <script src="clientscript.js"></script>

    </head>
    <body ng-controller="clientController">
        <img src="./images/evolve%20yoself.png" alt="Evolve Yo'self"         
                    class="header" />
        <div class="appBody" id="interface">

            <div class="sidemenu">
                <!--iterate over two stages-->
                <div ng-repeat="stage in stages" class="separateStagePanels">
                    <input type="file" name="stage-{{$index+1}}"
                                ngf-select id="input{{$index+1}}"
                                ngf-change="selectStage(stage)"
                                ng-model="stage.image" accept="image/*" required
                                class="imageInput" />
                    <label for="input{{$index+1}}" 
                            ng-show="stage.showLabel">
                        <img src="./images/upload%20stage%20{{$index+1}}.png"
                            alt="Upload Stage {{$index}}" width=200 />
                    </label>
                    <!--a canvas object to display the "before" image on the
                        left and buttons to upload and crop the image on the
                        right-->
                    <canvas id="thumb{{$index+1}}" class="thumbnail" width="128px" height="128px"
                        ldw-render="drawThumbnail(stage, $ctx)"
                        ng-hide="stage.showLabel"></canvas>
                    <br>
            		<p ng-hide="stage.showLabel">Give your Pokémon a name:</p>
                    <input type="text" ng-model="stage.name" ng-hide="stage.showLabel"/>
                    <br>
                    <button ng-click="cropStage($index)"
                            ng-hide="stage.showLabel">
                        <img src="./images/crop!.png" alt="Crop" height=30>
                    </button>
                </div>
                <!--stop repeating-->
            </div>

            <div class="mainContent">
                <!--stand in for banner adsence add-->
                <canvas class="canvas" width=468 height=60></canvas>
                <br>
                <canvas ldw-render="animate($ctx)" id="theCanvas" class="canvas"
                    width=320px height=288px></canvas>
                <br>
                <select id="evolStyle"
                    ng-options="style.name for style in evolveStyles"
                    ng-model="evolutionStyle" class="styleSelector"></select>
                <button ng-click="downloadProduct" id="download"
                        class="controlButton">
                    <img src="./images/download!.png" alt="Download!"
                        class="controlButtonImage">
                </button>
                <button ng-click="initAnimation()" id="runDemo"
                        class="controlButton">
                    <img src="./images/evolve!.png" alt="Evolve!"
                            class="controlButtonImage">
                </button>
            </div>

            <!--stand in for leaderboard adsence add-->
            <canvas class="canvas" width="728" height="90" padding-top="10px"></canvas>
        </div>
        
	    <!--hidden canvas for grayscaling-->
	    <div hidden>
		    <canvas id="hiddenCanvas" class="canvas" width="128" height="128"></canvas> 
	    </div>
    </body>
</html>
